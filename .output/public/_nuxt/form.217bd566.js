import{d as ue,u as oe,e as ie,h as re,g as se,f as de,b as fe,i as ee,j as me}from"./use-key-composition.bf86416a.js";import{c as q,r as W,E as N,C as $,$ as ce,b as ge,o as ve,e as Y,L as he,G as ke,_ as te,l as Me,m as xe,q as C,a4 as S,a5 as F,k as we}from"./entry.b181545b.js";import{c as Ve}from"./QSpinner.f5574866.js";import"./use-dark.3b3ae09d.js";function ye(e,u){function j(){const r=e.modelValue;try{const s="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(i=>{s.items.add(i)}),{files:s.files}}catch{return{files:void 0}}}return u===!0?q(()=>{if(e.type==="file")return j()}):q(j)}const le={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},G={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ne=Object.keys(G);ne.forEach(e=>{G[e].regex=new RegExp(G[e].pattern)});const be=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ne.join("")+"])|(.)","g"),ae=/[.*+?^${}()|[\]\\]/g,M=String.fromCharCode(1),Ce={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Se(e,u,j,r){let s,i,O,T,B,w;const V=W(null),g=W(R());function Q(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}N(()=>e.type+e.autogrow,D),N(()=>e.mask,n=>{if(n!==void 0)p(g.value,!0);else{const l=E(g.value);D(),e.modelValue!==l&&u("update:modelValue",l)}}),N(()=>e.fillMask+e.reverseFillMask,()=>{V.value===!0&&p(g.value,!0)}),N(()=>e.unmaskedValue,()=>{V.value===!0&&p(g.value)});function R(){if(D(),V.value===!0){const n=z(E(e.modelValue));return e.fillMask!==!1?_(n):n}return e.modelValue}function I(n){if(n<s.length)return s.slice(-n);let l="",o=s;const a=o.indexOf(M);if(a>-1){for(let f=n-o.length;f>0;f--)l+=M;o=o.slice(0,a)+l+o.slice(a)}return o}function D(){if(V.value=e.mask!==void 0&&e.mask.length!==0&&Q(),V.value===!1){T=void 0,s="",i="";return}const n=le[e.mask]===void 0?e.mask:le[e.mask],l=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",o=l.replace(ae,"\\$&"),a=[],f=[],d=[];let k=e.reverseFillMask===!0,m="",c="";n.replace(be,(x,t,h,U,A)=>{if(U!==void 0){const y=G[U];d.push(y),c=y.negate,k===!0&&(f.push("(?:"+c+"+)?("+y.pattern+"+)?(?:"+c+"+)?("+y.pattern+"+)?"),k=!1),f.push("(?:"+c+"+)?("+y.pattern+")?")}else if(h!==void 0)m="\\"+(h==="\\"?"":h),d.push(h),a.push("([^"+m+"]+)?"+m+"?");else{const y=t!==void 0?t:A;m=y==="\\"?"\\\\\\\\":y.replace(ae,"\\\\$&"),d.push(y),a.push("([^"+m+"]+)?"+m+"?")}});const K=new RegExp("^"+a.join("")+"("+(m===""?".":"[^"+m+"]")+"+)?"+(m===""?"":"["+m+"]*")+"$"),Z=f.length-1,v=f.map((x,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+o+"*"+x):t===Z?new RegExp("^"+x+"("+(c===""?".":c)+"+)?"+(e.reverseFillMask===!0?"$":o+"*")):new RegExp("^"+x));O=d,T=x=>{const t=K.exec(e.reverseFillMask===!0?x:x.slice(0,d.length+1));t!==null&&(x=t.slice(1).join(""));const h=[],U=v.length;for(let A=0,y=x;A<U;A++){const L=v[A].exec(y);if(L===null)break;y=y.slice(L.shift().length),h.push(...L)}return h.length!==0?h.join(""):x},s=d.map(x=>typeof x=="string"?x:M).join(""),i=s.split(M).join(l)}function p(n,l,o){const a=r.value,f=a.selectionEnd,d=a.value.length-f,k=E(n);l===!0&&D();const m=z(k),c=e.fillMask!==!1?_(m):m,K=g.value!==c;a.value!==c&&(a.value=c),K===!0&&(g.value=c),document.activeElement===a&&$(()=>{if(c===i){const v=e.reverseFillMask===!0?i.length:0;a.setSelectionRange(v,v,"forward");return}if(o==="insertFromPaste"&&e.reverseFillMask!==!0){const v=a.selectionEnd;let x=f-1;for(let t=B;t<=x&&t<v;t++)s[t]!==M&&x++;b.right(a,x);return}if(["deleteContentBackward","deleteContentForward"].indexOf(o)>-1){const v=e.reverseFillMask===!0?f===0?c.length>m.length?1:0:Math.max(0,c.length-(c===i?0:Math.min(m.length,d)+1))+1:f;a.setSelectionRange(v,v,"forward");return}if(e.reverseFillMask===!0)if(K===!0){const v=Math.max(0,c.length-(c===i?0:Math.min(m.length,d+1)));v===1&&f===1?a.setSelectionRange(v,v,"forward"):b.rightReverse(a,v)}else{const v=c.length-d;a.setSelectionRange(v,v,"backward")}else if(K===!0){const v=Math.max(0,s.indexOf(M),Math.min(m.length,f)-1);b.right(a,v)}else{const v=f-1;b.right(a,v)}});const Z=e.unmaskedValue===!0?E(c):c;String(e.modelValue)!==Z&&j(Z,!0)}function X(n,l,o){const a=z(E(n.value));l=Math.max(0,s.indexOf(M),Math.min(a.length,l)),B=l,n.setSelectionRange(l,o,"forward")}const b={left(n,l){const o=s.slice(l-1).indexOf(M)===-1;let a=Math.max(0,l-1);for(;a>=0;a--)if(s[a]===M){l=a,o===!0&&l++;break}if(a<0&&s[l]!==void 0&&s[l]!==M)return b.right(n,0);l>=0&&n.setSelectionRange(l,l,"backward")},right(n,l){const o=n.value.length;let a=Math.min(o,l+1);for(;a<=o;a++)if(s[a]===M){l=a;break}else s[a-1]===M&&(l=a);if(a>o&&s[l-1]!==void 0&&s[l-1]!==M)return b.left(n,o);n.setSelectionRange(l,l,"forward")},leftReverse(n,l){const o=I(n.value.length);let a=Math.max(0,l-1);for(;a>=0;a--)if(o[a-1]===M){l=a;break}else if(o[a]===M&&(l=a,a===0))break;if(a<0&&o[l]!==void 0&&o[l]!==M)return b.rightReverse(n,0);l>=0&&n.setSelectionRange(l,l,"backward")},rightReverse(n,l){const o=n.value.length,a=I(o),f=a.slice(0,l+1).indexOf(M)===-1;let d=Math.min(o,l+1);for(;d<=o;d++)if(a[d-1]===M){l=d,l>0&&f===!0&&l--;break}if(d>o&&a[l-1]!==void 0&&a[l-1]!==M)return b.leftReverse(n,o);n.setSelectionRange(l,l,"forward")}};function J(n){u("click",n),w=void 0}function H(n){if(u("keydown",n),ce(n)===!0)return;const l=r.value,o=l.selectionStart,a=l.selectionEnd;if(n.shiftKey||(w=void 0),n.keyCode===37||n.keyCode===39){n.shiftKey&&w===void 0&&(w=l.selectionDirection==="forward"?o:a);const f=b[(n.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(n.preventDefault(),f(l,w===o?a:o),n.shiftKey){const d=l.selectionStart;l.setSelectionRange(Math.min(w,d),Math.max(w,d),"forward")}}else n.keyCode===8&&e.reverseFillMask!==!0&&o===a?(b.left(l,o),l.setSelectionRange(l.selectionStart,a,"backward")):n.keyCode===46&&e.reverseFillMask===!0&&o===a&&(b.rightReverse(l,a),l.setSelectionRange(o,l.selectionEnd,"forward"))}function z(n){if(n==null||n==="")return"";if(e.reverseFillMask===!0)return P(n);const l=O;let o=0,a="";for(let f=0;f<l.length;f++){const d=n[o],k=l[f];if(typeof k=="string")a+=k,d===k&&o++;else if(d!==void 0&&k.regex.test(d))a+=k.transform!==void 0?k.transform(d):d,o++;else return a}return a}function P(n){const l=O,o=s.indexOf(M);let a=n.length-1,f="";for(let d=l.length-1;d>=0&&a>-1;d--){const k=l[d];let m=n[a];if(typeof k=="string")f=k+f,m===k&&a--;else if(m!==void 0&&k.regex.test(m))do f=(k.transform!==void 0?k.transform(m):m)+f,a--,m=n[a];while(o===d&&m!==void 0&&k.regex.test(m));else return f}return f}function E(n){return typeof n!="string"||T===void 0?typeof n=="number"?T(""+n):n:T(n)}function _(n){return i.length-n.length<=0?n:e.reverseFillMask===!0&&n.length!==0?i.slice(0,-n.length)+n:n+i.slice(n.length)}return{innerValue:g,hasMask:V,moveCursorForPaste:X,updateMaskValue:p,onMaskedKeydown:H,onMaskedClick:J}}const Fe=Ve({name:"QInput",inheritAttrs:!1,props:{...ue,...Ce,...oe,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ie,"paste","change","keydown","click","animationend"],setup(e,{emit:u,attrs:j}){const{proxy:r}=ke(),{$q:s}=r,i={};let O=NaN,T,B,w=null,V;const g=W(null),Q=re(e),{innerValue:R,hasMask:I,moveCursorForPaste:D,updateMaskValue:p,onMaskedKeydown:X,onMaskedClick:b}=Se(e,u,m,g),J=ye(e,!0),H=q(()=>ee(R.value)),z=me(d),P=se(),E=q(()=>e.type==="textarea"||e.autogrow===!0),_=q(()=>E.value===!0||["text","search","url","tel","password"].includes(e.type)),n=q(()=>{const t={...P.splitAttrs.listeners.value,onInput:d,onPaste:f,onChange:K,onBlur:Z,onFocus:te};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=z,I.value===!0&&(t.onKeydown=X,t.onClick=b),e.autogrow===!0&&(t.onAnimationend=k),t}),l=q(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:Q.value,...P.splitAttrs.attributes.value,id:P.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return E.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});N(()=>e.type,()=>{g.value&&(g.value.value=e.modelValue)}),N(()=>e.modelValue,t=>{if(I.value===!0){if(B===!0&&(B=!1,String(t)===O))return;p(t)}else R.value!==t&&(R.value=t,e.type==="number"&&i.hasOwnProperty("value")===!0&&(T===!0?T=!1:delete i.value));e.autogrow===!0&&$(c)}),N(()=>e.autogrow,t=>{t===!0?$(c):g.value!==null&&j.rows>0&&(g.value.style.height="auto")}),N(()=>e.dense,()=>{e.autogrow===!0&&$(c)});function o(){fe(()=>{const t=document.activeElement;g.value!==null&&g.value!==t&&(t===null||t.id!==P.targetUid.value)&&g.value.focus({preventScroll:!0})})}function a(){g.value!==null&&g.value.select()}function f(t){if(I.value===!0&&e.reverseFillMask!==!0){const h=t.target;D(h,h.selectionStart,h.selectionEnd)}u("paste",t)}function d(t){if(!t||!t.target)return;if(e.type==="file"){u("update:modelValue",t.target.files);return}const h=t.target.value;if(t.target.qComposing===!0){i.value=h;return}if(I.value===!0)p(h,!1,t.inputType);else if(m(h),_.value===!0&&t.target===document.activeElement){const{selectionStart:U,selectionEnd:A}=t.target;U!==void 0&&A!==void 0&&$(()=>{t.target===document.activeElement&&h.indexOf(t.target.value)===0&&t.target.setSelectionRange(U,A)})}e.autogrow===!0&&c()}function k(t){u("animationend",t),c()}function m(t,h){V=()=>{w=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==t&&O!==t&&(O=t,h===!0&&(B=!0),u("update:modelValue",t),$(()=>{O===t&&(O=NaN)})),V=void 0},e.type==="number"&&(T=!0,i.value=t),e.debounce!==void 0?(w!==null&&clearTimeout(w),i.value=t,w=setTimeout(V,e.debounce)):V()}function c(){requestAnimationFrame(()=>{const t=g.value;if(t!==null){const h=t.parentNode.style,{scrollTop:U}=t,{overflowY:A,maxHeight:y}=s.platform.is.firefox===!0?{}:window.getComputedStyle(t),L=A!==void 0&&A!=="scroll";L===!0&&(t.style.overflowY="hidden"),h.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",L===!0&&(t.style.overflowY=parseInt(y,10)<t.scrollHeight?"auto":"hidden"),h.marginBottom="",t.scrollTop=U}})}function K(t){z(t),w!==null&&(clearTimeout(w),w=null),V!==void 0&&V(),u("change",t.target.value)}function Z(t){t!==void 0&&te(t),w!==null&&(clearTimeout(w),w=null),V!==void 0&&V(),T=!1,B=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{g.value!==null&&(g.value.value=R.value!==void 0?R.value:"")})}function v(){return i.hasOwnProperty("value")===!0?i.value:R.value!==void 0?R.value:""}ge(()=>{Z()}),ve(()=>{e.autogrow===!0&&c()}),Object.assign(P,{innerValue:R,fieldClass:q(()=>`q-${E.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:q(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:g,emitValue:m,hasValue:H,floatingLabel:q(()=>H.value===!0&&(e.type!=="number"||isNaN(R.value)===!1)||ee(e.displayValue)),getControl:()=>Y(E.value===!0?"textarea":"input",{ref:g,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...l.value,...n.value,...e.type!=="file"?{value:v()}:J.value}),getShadowControl:()=>Y("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(E.value===!0?"":" text-no-wrap")},[Y("span",{class:"invisible"},v()),Y("span",e.shadowText)])});const x=de(P);return Object.assign(r,{focus:o,select:a,getNativeElement:()=>g.value}),he(r,"nativeEl",()=>g.value),x}}),Re={class:"q-pa-md"},Ee={class:"q-gutter-md",style:{"max-width":"300px"}},Ue={__name:"form",setup(e){const u=W("");return(j,r)=>{const s=Fe;return we(),Me("div",Re,[xe("div",Ee,[C(s,{modelValue:S(u),"onUpdate:modelValue":r[0]||(r[0]=i=>F(u)?u.value=i:null),label:"Standard"},null,8,["modelValue"]),C(s,{filled:"",modelValue:S(u),"onUpdate:modelValue":r[1]||(r[1]=i=>F(u)?u.value=i:null),label:"Filled"},null,8,["modelValue"]),C(s,{outlined:"",modelValue:S(u),"onUpdate:modelValue":r[2]||(r[2]=i=>F(u)?u.value=i:null),label:"Outlined"},null,8,["modelValue"]),C(s,{standout:"",modelValue:S(u),"onUpdate:modelValue":r[3]||(r[3]=i=>F(u)?u.value=i:null),label:"Standout"},null,8,["modelValue"]),C(s,{standout:"bg-teal text-white",modelValue:S(u),"onUpdate:modelValue":r[4]||(r[4]=i=>F(u)?u.value=i:null),label:"Custom standout"},null,8,["modelValue"]),C(s,{borderless:"",modelValue:S(u),"onUpdate:modelValue":r[5]||(r[5]=i=>F(u)?u.value=i:null),label:"Borderless"},null,8,["modelValue"]),C(s,{rounded:"",filled:"",modelValue:S(u),"onUpdate:modelValue":r[6]||(r[6]=i=>F(u)?u.value=i:null),label:"Rounded filled"},null,8,["modelValue"]),C(s,{rounded:"",outlined:"",modelValue:S(u),"onUpdate:modelValue":r[7]||(r[7]=i=>F(u)?u.value=i:null),label:"Rounded outlined"},null,8,["modelValue"]),C(s,{rounded:"",standout:"",modelValue:S(u),"onUpdate:modelValue":r[8]||(r[8]=i=>F(u)?u.value=i:null),label:"Rounded standout"},null,8,["modelValue"]),C(s,{square:"",filled:"",modelValue:S(u),"onUpdate:modelValue":r[9]||(r[9]=i=>F(u)?u.value=i:null),label:"Square filled"},null,8,["modelValue"]),C(s,{square:"",outlined:"",modelValue:S(u),"onUpdate:modelValue":r[10]||(r[10]=i=>F(u)?u.value=i:null),label:"Square outlined"},null,8,["modelValue"]),C(s,{square:"",standout:"",modelValue:S(u),"onUpdate:modelValue":r[11]||(r[11]=i=>F(u)?u.value=i:null),label:"Square standout"},null,8,["modelValue"])])])}}};export{Ue as default};
